# =============================================================================
# BUControl MCP Server - Environment Configuration
# =============================================================================

# Server Configuration
PORT=3100
HOST=0.0.0.0
NODE_ENV=production

# =============================================================================
# BUControl Backend WebSocket Connection
# =============================================================================
# Option 1: Direct Tailscale IP (if Render has Tailscale)
WEBSOCKET_HOST=100.71.254.15
WEBSOCKET_PORT=3004

# Option 2: Cloudflare Tunnel (recommended for production)
# WEBSOCKET_HOST=bucontrol-ws.yourdomain.com
# WEBSOCKET_PORT=443

# Option 3: ngrok (for testing)
# WEBSOCKET_HOST=your-subdomain.ngrok.io
# WEBSOCKET_PORT=443

CONTROLLER_ID=modular-controller-config

# =============================================================================
# Tailscale Configuration (for Render with Tailscale)
# =============================================================================
# Set these in Render dashboard as secrets
# TAILSCALE_AUTHKEY=tskey-auth-xxxxx
# TAILSCALE_HOSTNAME=bucontrol-mcp-render

# =============================================================================
# Security Configuration
# =============================================================================
# API Keys with optional tiers (key:tier format)
# Tiers: free (30/min), basic (100/min), premium (500/min), unlimited
# Generate keys: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
API_KEYS=your-api-key-1:premium,your-api-key-2:basic

# Require API key for all requests (default: true)
REQUIRE_API_KEY=true

# CORS Origins (comma-separated)
CORS_ORIGINS=https://claude.ai,https://api.anthropic.com

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX=100

# =============================================================================
# Logging
# =============================================================================
LOG_LEVEL=info

# =============================================================================
# Timeouts
# =============================================================================
CONNECTION_TIMEOUT=20000
IDENTIFY_TIMEOUT=5000
COMMAND_TIMEOUT=10000
DISCOVERY_TIMEOUT=10000
RECONNECTION_DELAY_BASE=1000
RECONNECTION_DELAY_MAX=30000

# =============================================================================
# Features
# =============================================================================
ENABLE_METRICS=true
ENABLE_DEBUG=false
